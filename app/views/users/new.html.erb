<% if @user.errors.present? %>
  <ul>
    <% @user.errors.messages.each do |message| %>
      <% message[1].each do |m| %>
        <li><%= message[0] %> <%= m %></li>
      <% end %>
    <% end %>
  </ul>
<% end %>

<%= form_with(model: @user, local: true) do |f| %>
  <%= f.label :name %>
  <%= f.text_field :name %>
  <%= f.label :email %>
  <%= f.email_field :email %>
  <%= f.label :password %>
  <%= f.password_field :password %>
  <%= f.label :password_confirmation %>
  <%= f.password_field(:password_confirmation) %>
  <%= f.submit %>
<% end %>
<%= link_to 'Top', :root %>
